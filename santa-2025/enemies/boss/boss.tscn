[gd_scene load_steps=36 format=3 uid="uid://dhh663hd246p3"]

[ext_resource type="Script" uid="uid://ckqgteahex3nn" path="res://enemies/Boss.gd" id="1_n18ml"]
[ext_resource type="Script" uid="uid://dyhp2nkv0oyxm" path="res://components/state_machine.gd" id="1_ubujh"]
[ext_resource type="Texture2D" uid="uid://cjc87h01ouefr" path="res://assets/defence/defence.png" id="3_m37od"]
[ext_resource type="PackedScene" uid="uid://brvcncdhx4gpu" path="res://components/entity_spawner.tscn" id="3_r4ron"]
[ext_resource type="PackedScene" uid="uid://vfox1tr302a" path="res://components/hitbox.tscn" id="4_02fuc"]
[ext_resource type="Script" uid="uid://ciyvb0x1ucnxy" path="res://enemies/boss/states/boss_bullet_wave.gd" id="4_8d0e3"]
[ext_resource type="Shader" uid="uid://cpod5ov3gp61k" path="res://shaders/hit.gdshader" id="4_m37od"]
[ext_resource type="Script" uid="uid://c62d321qpdq1l" path="res://enemies/boss/states/boss_minions.gd" id="4_vsebo"]
[ext_resource type="Texture2D" uid="uid://b0k8hbdb5jtra" path="res://assets/boss/boss.png" id="5_2tiri"]
[ext_resource type="PackedScene" uid="uid://dnecco0xl2u5t" path="res://enemies/boss/defense/defence_breaker.tscn" id="5_b5n78"]
[ext_resource type="PackedScene" uid="uid://4uclpbd0a7l1" path="res://enemies/enemy_bullet.tscn" id="8_2tiri"]
[ext_resource type="Texture2D" uid="uid://d0vqxrnjmmtso" path="res://assets/boss/health_stuff/over.png" id="8_thi7d"]
[ext_resource type="Texture2D" uid="uid://dji64kb50x060" path="res://assets/boss/health_stuff/under.png" id="9_2onrd"]
[ext_resource type="PackedScene" uid="uid://cw6vrpa8b0u16" path="res://components/hurtbox.tscn" id="9_2tiri"]
[ext_resource type="Texture2D" uid="uid://do1lgr8yj85q2" path="res://assets/boss/health_stuff/progress.png" id="10_1bvvi"]
[ext_resource type="AudioStream" uid="uid://5v70vnebmxlk" path="res://assets/sounds/small_guy_hit/big_hit_edit.wav" id="10_p1sap"]
[ext_resource type="PackedScene" uid="uid://dnomsvvnuwjes" path="res://components/flash.tscn" id="13_02fuc"]
[ext_resource type="PackedScene" uid="uid://duvyp3fetud8o" path="res://enemies/boss/defense/boss_defence.tscn" id="14_02fuc"]
[ext_resource type="Shader" uid="uid://bys66bmvlt136" path="res://shaders/flash.gdshader" id="14_m37od"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_02fuc"]
size = Vector2(100, 100)

[sub_resource type="CircleShape2D" id="CircleShape2D_02fuc"]
radius = 128.19127

[sub_resource type="CircleShape2D" id="CircleShape2D_m37od"]
radius = 86.37129

[sub_resource type="ShaderMaterial" id="ShaderMaterial_thi7d"]
resource_local_to_scene = true
shader = ExtResource("4_m37od")
shader_parameter/active = false

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2tiri"]
size = Vector2(63.5, 65.5)

[sub_resource type="Animation" id="Animation_1s7ui"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2, 2)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("flash:material:shader_parameter/flash_amount")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("flash:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite2D:material:shader_parameter/active")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("boss_defence/Sprite2D:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(3, 3)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("boss_defence/Sprite2D:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("boss_defence/CollisionShape2D:disabled")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("boss_defence/Sprite2D:frame")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("boss_defence/Sprite2D:modulate")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_m37od"]
resource_name = "defence_broken"
length = 0.5
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flash:material:shader_parameter/flash_amount")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.0, 0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("flash:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("boss_defence/Sprite2D:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(3, 3)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("boss_defence/Sprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.05, 0.1, 0.15, 0.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("boss_defence/Sprite2D:modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.1),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("boss_defence/Sprite2D:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.1),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_o8os0"]
resource_name = "defence_hit"
length = 0.2
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flash:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boss_defence/Sprite2D:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.05, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(3, 3), Vector2(3.5, 3.5), Vector2(3, 3)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("boss_defence/Sprite2D:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_b0wi3"]
resource_name = "defence_off"
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flash:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boss_defence/Sprite2D:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(3, 3), Vector2(1.5, 1.5), Vector2(0.5, 0.5)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("boss_defence/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_02fuc"]
resource_name = "defence_on"
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boss_defence/Sprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0.5, 0.5), Vector2(1.5, 1.5), Vector2(3, 3)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("boss_defence/CollisionShape2D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("boss_defence/Sprite2D:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("boss_defence/Sprite2D:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_thi7d"]
resource_name = "killed"
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3, 0.4, 0.8, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(0.3, 0.3), Vector2(1, 1), Vector2(0.3, 0.3), Vector2(1, 1), Vector2(0.1, 0.1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:material:shader_parameter/active")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3, 0.4, 0.6, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, false, true, false, true]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"queue_free"
}]
}

[sub_resource type="Animation" id="Animation_b5n78"]
resource_name = "spawn_bullet"
length = 1.7
loop_mode = 2
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.7853982, 1.5707964, 2.3561945, 3.1415927, 3.9269907, 4.712389, 5.846853, 6.2831855]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("flash:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_2tiri"]
resource_name = "spawn_melee"
length = 0.5
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2, 2), Vector2(1.8, 1.8), Vector2(2, 2)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:material:shader_parameter/active")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, false, false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("flash:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_p1sap"]
resource_name = "spawn_shield"
length = 0.5
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flash:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2, 2), Vector2(1.6, 1.6), Vector2(2, 2)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1s7ui"]
_data = {
&"RESET": SubResource("Animation_1s7ui"),
&"defence_broken": SubResource("Animation_m37od"),
&"defence_hit": SubResource("Animation_o8os0"),
&"defence_off": SubResource("Animation_b0wi3"),
&"defence_on": SubResource("Animation_02fuc"),
&"killed": SubResource("Animation_thi7d"),
&"spawn_bullet": SubResource("Animation_b5n78"),
&"spawn_melee": SubResource("Animation_2tiri"),
&"spawn_shield": SubResource("Animation_p1sap")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p1sap"]
shader = ExtResource("14_m37od")
shader_parameter/flash_color = Color(0.36862746, 0.003921569, 0.10980392, 1)
shader_parameter/flash_amount = 0.0

[node name="Boss" type="CharacterBody2D"]
collision_layer = 4
collision_mask = 0
script = ExtResource("1_n18ml")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-0.5, -0.5)
shape = SubResource("RectangleShape2D_02fuc")

[node name="boss_defence" parent="." node_paths=PackedStringArray("collision_") instance=ExtResource("14_02fuc")]
collision_mask = 0
collision_ = NodePath("CollisionShape2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="boss_defence"]
shape = SubResource("CircleShape2D_02fuc")

[node name="Sprite2D" type="Sprite2D" parent="boss_defence"]
visible = false
modulate = Color(1, 1, 1, 0)
scale = Vector2(3, 3)
texture = ExtResource("3_m37od")
hframes = 5
frame = 1

[node name="hitbox" parent="." instance=ExtResource("4_02fuc")]
position = Vector2(0, -1)
collision_mask = 1
knockback_strength = 500

[node name="CollisionShape2D" parent="hitbox" index="0"]
shape = SubResource("CircleShape2D_m37od")

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_thi7d")
scale = Vector2(2, 2)
texture = ExtResource("5_2tiri")

[node name="hurtbox" parent="Sprite2D" node_paths=PackedStringArray("owner_node") instance=ExtResource("9_2tiri")]
collision_layer = 4
max_hp = 25
owner_node = NodePath("../..")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Sprite2D/hurtbox"]
position = Vector2(0.25, -1.25)
shape = SubResource("RectangleShape2D_2tiri")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="health_bar" type="TextureProgressBar" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = 315.0
offset_top = 8.0
offset_right = 955.0
offset_bottom = 88.0
grow_horizontal = 2
max_value = 25.0
texture_under = ExtResource("9_2onrd")
texture_over = ExtResource("8_thi7d")
texture_progress = ExtResource("10_1bvvi")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_1s7ui")
}

[node name="defence_cooldown" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[node name="breaker_spawn_cooldown" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="flash" parent="." instance=ExtResource("13_02fuc")]
visible = false
material = SubResource("ShaderMaterial_p1sap")
color = Color(1, 1, 1, 0.4745098)

[node name="audio" type="Node2D" parent="."]

[node name="hit" type="AudioStreamPlayer2D" parent="audio"]
stream = ExtResource("10_p1sap")
volume_db = 2.0
pitch_scale = 0.8

[node name="entity_spawner" parent="." node_paths=PackedStringArray("father") instance=ExtResource("3_r4ron")]
load_bullet = ExtResource("8_2tiri")
alpha = 3.0
father = NodePath("../Sprite2D")

[node name="state_machine" type="Node2D" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("1_ubujh")
initial_state = NodePath("bossMinion")
metadata/_custom_type_script = "uid://dyhp2nkv0oyxm"

[node name="bossBulletWave" type="Node" parent="state_machine" node_paths=PackedStringArray("bullet_spawner", "hurtbox", "owner_node", "animation_player")]
script = ExtResource("4_8d0e3")
bullet_spawner = NodePath("../../entity_spawner")
hurtbox = NodePath("../../Sprite2D/hurtbox")
spawn_cooldown = 0.04
owner_node = NodePath("../..")
animation_player = NodePath("../../AnimationPlayer")
metadata/_custom_type_script = "uid://ciyvb0x1ucnxy"

[node name="bossMinion" type="Node" parent="state_machine" node_paths=PackedStringArray("minion_spawner", "defence", "breaker_spawn_cooldown", "defence_cooldown", "owner_node", "animation_player")]
script = ExtResource("4_vsebo")
minion_spawner = NodePath("../../entity_spawner")
defence_breaker_load = ExtResource("5_b5n78")
defence = NodePath("../../boss_defence")
breaker_spawn_cooldown = NodePath("../../breaker_spawn_cooldown")
defence_cooldown = NodePath("../../defence_cooldown")
minion_spawn_cooldown = 7
owner_node = NodePath("../..")
animation_player = NodePath("../../AnimationPlayer")
metadata/_custom_type_script = "uid://c62d321qpdq1l"

[connection signal="hit" from="boss_defence" to="state_machine/bossMinion" method="_on_boss_defence_hit"]
[connection signal="area_entered" from="hitbox" to="." method="_on_hitbox_area_entered"]
[connection signal="got_hit" from="Sprite2D/hurtbox" to="." method="_on_hurtbox_got_hit"]
[connection signal="got_hit" from="Sprite2D/hurtbox" to="state_machine/bossBulletWave" method="_on_hurtbox_got_hit"]
[connection signal="killed" from="Sprite2D/hurtbox" to="." method="_on_hurtbox_killed"]
[connection signal="timeout" from="defence_cooldown" to="state_machine/bossMinion" method="_on_defence_cooldown_timeout"]
[connection signal="timeout" from="breaker_spawn_cooldown" to="state_machine/bossMinion" method="_on_breaker_spawn_cooldown_timeout"]
[connection signal="timer_finished" from="entity_spawner" to="state_machine/bossBulletWave" method="_on_bullet_spawner_timer_finished"]
[connection signal="timer_finished" from="entity_spawner" to="state_machine/bossMinion" method="_on_bullet_spawner_timer_finished"]

[editable path="hitbox"]
